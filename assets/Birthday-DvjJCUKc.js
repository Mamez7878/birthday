import{r as d,j as t,B as F}from"./style-31MncEWB.js";const x=Math.PI*2,h=(u,e)=>Math.random()*(e-u+1)+u|0,k=()=>new Date().getTime();class g{constructor(e,i,o,a,l,n){this.dead=!1,this.offsprings=n,this.x=e,this.y=i,this.targetX=o,this.targetY=a,this.shade=l,this.history=[]}update(e,i,o){if(this.dead)return;let a=this.targetX-this.x,l=this.targetY-this.y;if(Math.abs(a)>3||Math.abs(l)>3)this.x+=a*2*e,this.y+=l*2*e,this.history.push({x:this.x,y:this.y}),this.history.length>20&&this.history.shift();else{if(this.offsprings&&!this.madeChilds){let n=this.offsprings/2;for(let s=0;s<n;s++){let c=this.x+this.offsprings*Math.cos(x*s/n)|0,m=this.y+this.offsprings*Math.sin(x*s/n)|0;o.push(new g(this.x,this.y,c,m,this.shade,0))}}this.madeChilds=!0,this.history.shift()}if(this.history.length===0)this.dead=!0;else if(this.offsprings)for(let n=0;this.history.length>n;n++){let s=this.history[n];i.beginPath(),i.fillStyle=`hsl(${this.shade}, 100%, ${n}%)`,i.arc(s.x,s.y,1,0,x,!1),i.fill()}else i.beginPath(),i.fillStyle=`hsl(${this.shade}, 100%, 50%)`,i.arc(this.x,this.y,1,0,x,!1),i.fill()}}const T=()=>{const u=d.useRef(null),e=d.useRef([]),i=d.useRef(0),o=d.useRef(null);return d.useEffect(()=>{const a=u.current,l=a.getContext("2d");let n=a.width=window.innerWidth,s=a.height=window.innerHeight;const c=n/2|0,m=c-c/4|0,w=c+c/4|0,C=s*.1,N=s*.5,y=()=>{clearTimeout(o.current),o.current=setTimeout(()=>{n=a.width=window.innerWidth,s=a.height=window.innerHeight},150)},p=r=>{const f=r.clientX||r.touches&&r.touches[0].pageX,E=r.clientY||r.touches&&r.touches[0].pageY,R=h(3,5);for(let v=0;v<R;v++)e.current.push(new g(h(m,w),s,f,E,h(0,260),h(30,110)));i.current=-1},B=r=>{l.globalCompositeOperation="hard-light",l.fillStyle=`rgba(20, 20, 20, ${7*r})`,l.fillRect(0,0,n,s),l.globalCompositeOperation="lighter";for(let f of e.current)f.update(r,l,e.current);i.current+=r*3,i.current>=1&&(e.current.push(new g(h(m,w),s,h(0,n),h(C,N),h(0,360),h(30,110))),i.current=0),e.current.length>1e3&&(e.current=e.current.filter(f=>!f.dead))},b=()=>{requestAnimationFrame(b);const r=k(),f=(r-j)/2e3;j=r,B(f)};let j=k();return b(),window.addEventListener("resize",y),document.addEventListener("click",p),document.addEventListener("touchstart",p),()=>{window.removeEventListener("resize",y),document.removeEventListener("click",p),document.removeEventListener("touchstart",p)}},[]),t.jsx("canvas",{ref:u,id:"birthday"})},z=()=>{const[e,i]=d.useState(20),[o,a]=d.useState(15);d.useEffect(()=>{if(o<2&&e>0){const s=setInterval(()=>{i(c=>c-.25)},250);return()=>clearInterval(s)}},[e,o]);const l=d.useCallback(()=>{a(s=>s-1)},[]),n=(20-e)/20*360;return t.jsxs("div",{className:"relative w-[100vw] h-[100vh] text-n-1 bg-[#fff]",children:[t.jsx("div",{className:"fixed top-0 left-0 m-2 w-[10px] h-[10px] rounded-full transition-all",style:{background:`conic-gradient(purple ${n}deg, #2b002b 0deg)`}}),t.jsx(T,{}),t.jsx("audio",{src:"/fireworks.mp3",autoPlay:!0,loop:!0}),o>1&&t.jsxs("div",{className:"uncopyable-container absolute top-20 left-[45%] flex flex-col justify-center items-center",children:[t.jsxs("div",{className:"relative flex justify-center items-center cursor-pointer mb-3",onClick:l,children:[t.jsx("img",{src:"/arrows.png",className:"w-[110px]",alt:"arrows"}),t.jsx("i",{style:{fontSize:"1.2em"},className:"absolute count",children:o})]}),t.jsx("p",{style:{fontFamily:"Comic Neue"},children:"Click me, fast"})]}),e<17&&t.jsx("div",{className:"z-10 absolute w-[1200px] h-[500px] rounded-2xl backdrop-blur-sm bg-[#630893]/50 top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%] flex flex-col justify-center items-center fade-in",children:e<15&&t.jsxs("div",{style:{background:"url('/balloon.png') no-repeat center center",backgroundSize:"contain"},className:"w-full h-full fade-in p-20 flex flex-col justify-center",children:[t.jsxs("div",{className:"ml-20 min-h-[160px] ",children:[e<13&&t.jsx("h2",{className:"h4 fade-in",children:t.jsx("span",{className:"font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 fade-in transition-all",children:"Happy 21st Birthday"})}),e<11&&t.jsx("h1",{className:"h1 font-code mt-8 fade-in transition-all",children:t.jsx("span",{className:"font-extrabold text-transparent bg-clip-text transition-all w-20",style:{backgroundImage:"linear-gradient(to right, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C)"},children:"Sophia"})})]}),t.jsxs("div",{className:"absolute bottom-12 left-[350px] flex flex-col items-center h-[100px]",children:[e<6&&t.jsxs(F,{className:"fade-in m-0 py-2 border border-transparent rounded-full hover:bg-transparent hover:border-n-1",href:"/cake",iswhite:!0,children:["Have a cake"," ",t.jsx("span",{className:"material-symbols-outlined ml-3",children:"arrow_forward"})]}),e<4&&t.jsxs("p",{className:"text-[.8em]",children:["(","of course sugar free",")"]})]})]})})]})};export{z as B};
